<header class="container p-3 mb-3 border-bottom">
  <div routerLink="/">
    <img src="assets/images/logo.svg" class="logo">
  </div>

    <div class="container">
      <div class="d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start">

        <ul class="nav col-12 col-lg-auto me-lg-auto mb-2 justify-content-center mb-md-0">
          <li><a routerLink="/products" class="nav-link px-2 link-dark">Products</a></li>
        </ul>

        <form class="col-12 col-lg-auto mb-3 mb-lg-0 me-lg-3" role="search">
          <input
            type="search" class="form-control" placeholder="Search..."
            aria-label="Search"

          [(ngModel)]="searchInput"
            (ngModelChange)="search($event)"
            [ngModelOptions]="{standalone: true}"
          >
        </form>
        <div>
            <img src="assets/images/cart-icon.svg" class="cart-icon">
        <div>
          <a routerLink="/cart">cart</a>
        </div>
        </div>
        <a routerLink="/cart" class="counter">
          {{cartCount$ | async}}
        </a>


        <ng-container *ngIf="userIsAuthenticated; else notAuthenticated">
          <div class="dropdown text-end">
            <a href="#" class="d-block link-dark text-decoration-none dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
              <img src="https://github.com/mdo.png" alt="mdo" width="42" height="42" class="rounded-circle">
            </a>

            <ul class="dropdown-menu text-small">
              <li><a class="dropdown-item" routerLink="/manager" >Content Manager</a></li>
              <li><a class="dropdown-item" routerLink="/orders">Orders</a></li>
              <li><a class="dropdown-item" href="#">Profile</a></li>
              <li><hr class="dropdown-divider"></li>
              <li><a class="dropdown-item" (click)="logout()" >Sign out</a></li>
            </ul>
          </div>
        </ng-container>
        <ng-template #notAuthenticated>
          <div class="col-md-3 text-end p-2" >
            <button routerLink="/auth/login" type="button" class="btn btn-outline-primary me-2">Login</button>
            <button routerLink="/auth/register" type="button" class="btn btn-primary">Register</button>
          </div>
        </ng-template>
      </div>
    </div>

</header>
