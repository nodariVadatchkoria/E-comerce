"use strict";(self.webpackChunkE_comerce=self.webpackChunkE_comerce||[]).push([[541],{541:(P,p,i)=>{i.r(p),i.d(p,{ProductsModule:()=>q});var u=i(6895),s=i(3128),t=i(8256),d=i(5174);const g=function(o){return["/manager/products/edit",o]};function f(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"tr",4)(1,"td"),t._UZ(2,"img",5),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.ALo(9,"currency"),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td",6)(13,"button",7),t._uU(14,"Edit"),t.qZA(),t.TgZ(15,"button",8),t.NdJ("click",function(){const a=t.CHM(e).$implicit,T=t.oxw();return t.KtG(T.deleteItem(a.id))}),t._uU(16,"Remove"),t.qZA()()()}if(2&o){const e=n.$implicit;t.xp6(2),t.Q6J("src",e.image,t.LSH),t.xp6(2),t.Oqu(null==e||null==e.category?null:e.category.name),t.xp6(2),t.Oqu(null==e?null:e.name),t.xp6(2),t.Oqu(t.xi3(9,6,null==e?null:e.price,"USD")),t.xp6(3),t.Oqu(null==e?null:e.description),t.xp6(2),t.Q6J("routerLink",t.VKq(9,g,e.id))}}let Z=(()=>{class o{constructor(e){this.productsService=e,this.products=[]}ngOnInit(){this.getAll()}getAll(){this.productsService.getProducts({}).pipe().subscribe(e=>{this.products=e})}deleteItem(e){this.productsService.deleteItem(e).subscribe(c=>{this.getAll()})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(d.su))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-products"]],decls:18,vars:1,consts:[[1,"p-4","d-flex","justify-content-end"],["routerLink","/manager/products/create",1,"btn","btn-outline-success"],[1,"table"],["class","font",4,"ngFor","ngForOf"],[1,"font"],["width","150px",3,"src"],[1,"justify-content-end","font"],[1,"btn","btn-outline-dark","margin",3,"routerLink"],[1,"btn","btn-outline-danger","margin",3,"click"]],template:function(e,c){1&e&&(t.TgZ(0,"div",0)(1,"button",1),t._uU(2,"Add Product"),t.qZA()(),t.TgZ(3,"table",2)(4,"thead")(5,"tr")(6,"th"),t._uU(7,"N"),t.qZA(),t.TgZ(8,"th"),t._uU(9,"Category"),t.qZA(),t.TgZ(10,"th"),t._uU(11,"Name"),t.qZA(),t.TgZ(12,"th"),t._uU(13,"Price"),t.qZA(),t.TgZ(14,"th"),t._uU(15,"Description"),t.qZA()()(),t.TgZ(16,"tbody"),t.YNc(17,f,17,11,"tr",3),t.qZA()()),2&e&&(t.xp6(17),t.Q6J("ngForOf",c.products))},dependencies:[u.sg,s.rH,u.H9],styles:[".margin[_ngcontent-%COMP%]{margin-right:10px;margin-top:10px}.font[_ngcontent-%COMP%]{font-size:25px}"]}),o})();var r=i(433),h=i(3900),A=i(9646);function v(o,n){if(1&o&&(t.TgZ(0,"option",13),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}let m=(()=>{class o{constructor(e,c,l,a){this.productsService=e,this.categoriesService=c,this.route=l,this.router=a,this.categories$=this.categoriesService.getAll(),this.form=new r.cw({id:new r.NI(null),name:new r.NI("",[r.kI.required]),description:new r.NI("",[r.kI.required]),image:new r.NI("",[r.kI.required]),price:new r.NI("",[r.kI.required]),categoryId:new r.NI("",[r.kI.required])})}ngOnInit(){this.route.params.pipe((0,h.w)(e=>e.id?this.productsService.getOne(e.id):(0,A.of)(null))).subscribe(e=>{e&&this.form.patchValue({...e,categoryId:e.category.id})})}submit(){this.form.invalid||(this.form.value.id?this.productsService.update(this.form.value.id&&this.form.value).pipe().subscribe(e=>{this.router.navigate(["/manager/products"]).then(()=>{this.form.reset()})}):this.productsService.create(this.form.value).pipe().subscribe(e=>{this.router.navigate(["/manager/products"]).then(()=>{this.form.reset()})}))}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(d.su),t.Y36(d.GD),t.Y36(s.gz),t.Y36(s.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-products-add-edit"]],decls:25,vars:4,consts:[[3,"formGroup","ngSubmit"],["for","name"],["type","text","id","name","placeholder","Product Name","formControlName","name",1,"form-control"],["for","description"],["type","text","id","description","placeholder","Description","formControlName","description",1,"form-control"],["for","price"],["type","number","id","price","placeholder","Price","formControlName","price",1,"form-control"],["for","image"],["type","text","id","image","placeholder","Image","formControlName","image",1,"form-control"],["for","categoryId"],["aria-label","Default select example","id","categoryId","formControlName","categoryId",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-outline-success","mt-3"],[3,"value"]],template:function(e,c){1&e&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return c.submit()}),t.TgZ(1,"div")(2,"label",1),t._uU(3,"Product Name"),t.qZA(),t._UZ(4,"input",2),t.qZA(),t.TgZ(5,"div")(6,"label",3),t._uU(7,"Description"),t.qZA(),t._UZ(8,"textarea",4),t.qZA(),t.TgZ(9,"div")(10,"label",5),t._uU(11,"Price"),t.qZA(),t._UZ(12,"input",6),t.qZA(),t.TgZ(13,"div")(14,"label",7),t._uU(15,"Image Url"),t.qZA(),t._UZ(16,"input",8),t.qZA(),t.TgZ(17,"div")(18,"label",9),t._uU(19,"Category"),t.qZA(),t.TgZ(20,"select",10),t.YNc(21,v,2,2,"option",11),t.ALo(22,"async"),t.qZA()(),t.TgZ(23,"button",12),t._uU(24,"Add"),t.qZA()()),2&e&&(t.Q6J("formGroup",c.form),t.xp6(21),t.Q6J("ngForOf",t.lcZ(22,2,c.categories$)))},dependencies:[u.sg,r._Y,r.YN,r.Kr,r.Fj,r.wV,r.EJ,r.JJ,r.JL,r.sg,r.u,u.Ov]}),o})();const b=[{path:"",component:Z},{path:"create",component:m},{path:"edit/:id",component:m}];let y=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[s.Bz.forChild(b),s.Bz]}),o})(),q=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[u.ez,y,r.UX]}),o})()}}]);